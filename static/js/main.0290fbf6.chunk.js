(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,n){e.exports=n.p+"static/media/twitter-logo.11d59546.svg"},134:function(e){e.exports={_keypair:{publicKey:{0:163,1:197,2:172,3:90,4:187,5:233,6:137,7:217,8:181,9:219,10:200,11:192,12:156,13:39,14:214,15:135,16:250,17:237,18:162,19:62,20:143,21:220,22:20,23:76,24:111,25:176,26:102,27:5,28:175,29:161,30:73,31:109},secretKey:{0:191,1:133,2:29,3:124,4:138,5:50,6:29,7:230,8:9,9:244,10:213,11:135,12:6,13:103,14:209,15:178,16:74,17:146,18:217,19:241,20:191,21:122,22:190,23:190,24:9,25:249,26:237,27:241,28:33,29:203,30:229,31:33,32:163,33:197,34:172,35:90,36:187,37:233,38:137,39:217,40:181,41:219,42:200,43:192,44:156,45:39,46:214,47:135,48:250,49:237,50:162,51:62,52:143,53:220,54:20,55:76,56:111,57:176,58:102,59:5,60:175,61:161,62:73,63:109}}}},137:function(e,t,n){e.exports=n(260)},144:function(e,t,n){},146:function(e,t){},149:function(e,t){},176:function(e,t){},177:function(e,t){},258:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(126),i=n.n(a),c=(n(144),n(1)),l=n(9),s=n(7),u=n(34),p=n(28),f=n(12),d=n(135),h=n(133),m=n.n(h),g=n(49),v=n(134);n(258);function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),i=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return j()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var u={};function p(){}function f(){}function d(){}var h={};c(h,o,function(){return this});var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=d,c(v,"constructor",d),c(d,"constructor",f),f.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var w=u.d.SystemProgram,b=Object.values(v._keypair.secretKey),x=new Uint8Array(b),E=u.d.Keypair.fromSecretKey(x),k=new s.PublicKey(g.metadata.address),S=Object(s.clusterApiUrl)("devnet"),L="processed",j="https://twitter.com/".concat("priyansh_71"),C=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),h=Object(l.a)(i,2),v=h[0],b=h[1],x=Object(r.useState)(""),C=Object(l.a)(x,2),O=C[0],N=C[1],P=Object(r.useState)([]),A=Object(l.a)(P,2),F=A[0],K=A[1],_=function(){var e=Object(c.a)(y().mark(function e(){var t,n,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,!(n=t.solana)){e.next=11;break}return n.isPhantom||console.log("Please install Phantom Wallet."),e.next=6,n.connect({onlyIfTrusted:!0});case 6:r=e.sent,console.log("Connected with Public Key:",r.publicKey.toString()),a(r.publicKey.toString()),e.next=12;break;case 11:alert("Solana object not found! Get a Phantom Wallet \ud83d\udc7b");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(y().mark(function e(){var t,n,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,!(n=t.solana)){e.next=10;break}return e.next=5,n.connect();case 5:r=e.sent,console.log("Connected with Public Key:",r.publicKey.toString()),a(r.publicKey.toString()),e.next=12;break;case 10:alert("Solana object not found, check your console!"),console.log("Please visit https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en or https://addons.mozilla.org/en-US/firefox/addon/phantom-app/ depending on your browser to install the Phantom Wallet.");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=new s.Connection(S,L);return new u.b(e,window.solana,L)},G=function(){var e=Object(c.a)(y().mark(function e(){var t,n;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=M(),n=new u.a(g,k,t),console.log("Account Initializing..."),e.next=6,n.rpc.initialize({accounts:{baseAccount:E.publicKey,user:t.wallet.publicKey,systemProgram:w.programId},signers:[E]});case 6:return console.log("Created a new BaseAccount w/ address :",E.publicKey.toString()),e.next=9,B();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error creating BaseAccount account:",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(y().mark(function e(){var t,n;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==v.length){e.next=3;break}return console.log("No content given!"),e.abrupt("return");case 3:return e.prev=3,t=M(),n=new u.a(g,k,t),e.next=8,n.rpc.addContent(v,O,{accounts:{baseAccount:E.publicKey,user:t.wallet.publicKey}});case 8:return console.log("Content sent : ",v),b(""),N(""),e.next=13,B();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log("Error sending content:",e.t0);case 18:case"end":return e.stop()}},e,null,[[3,15]])}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(y().mark(function e(t){var n,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=M(),r=new u.a(g,k,n),e.next=5,r.rpc.updateContent(t.toString(),{accounts:{baseAccount:E.publicKey}});case 5:return console.log("Content upvoted : ",t),e.next=8,B();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error upvoting content:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(y().mark(function e(){var t,n,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=M(),n=new u.a(g,k,t),e.next=5,n.account.baseAccount.fetch(E.publicKey);case 5:r=e.sent,console.log("Got the account : ",r),K(r.contentList),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in getContentList() : ",e.t0.message),K(null);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){var e=function(){var e=Object(c.a)(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return window.addEventListener("load",e),function(){return window.removeEventListener("load",e)}},[]),Object(r.useEffect)(function(){n&&(console.log("Fetching ..."),B())},[n]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:n?"authed-container":"container"},o.a.createElement("div",{className:"header-container"},o.a.createElement("p",{className:"header"},o.a.createElement("img",{src:"https://www.pngall.com/wp-content/uploads/11/DC-Comics-Logo-PNG-File.png",id:"DC",alt:"Hello"}),"\xa0Fandom"),o.a.createElement(p.Typography,Object.assign({},f.FontVariant.HeadingBold20,{color:f.colorPalette.popWhite[500],style:{fontFamily:"Quicksand",margin:"20px"}}),"Post regarding anything in DC.")),n?null===F?o.a.createElement("div",{className:"connected-container"},o.a.createElement(p.Button,{variant:"elevated",style:{margin:"auto",fontFamily:"Montserrat"},textStyle:{fontSize:18,fontWeight:"bold"},kind:"elevated",borderColor:"#244234",elevationDirection:"left-bottom",size:"big",colorMode:"dark",color:"#244234",onClick:G},"Do One-Time initialization of content's Solana Account")):o.a.createElement(p.Column,null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),I()}},o.a.createElement("div",{className:"connected-inputs"},o.a.createElement(p.InputField,{value:v,className:"input",label:"Content Link",onChange:function(e){return b(e.target.value)},spellCheck:"false",inputMode:"url",colorConfig:{textColor:"#fefefe",placeholderColor:"#aeaeae"},textStyle:{label:{fontSize:15},input:{fontSize:19}},colorMode:"dark",autoFocus:!0,placeholder:"Enter content link!"}),o.a.createElement(p.InputField,{label:"Caption",className:"input",spellCheck:"false",inputMode:"text",colorMode:"dark",colorConfig:{textColor:"#fefefe",placeholderColor:"#aeaeae"},textStyle:{label:{fontSize:15},input:{fontSize:19}},value:O,onChange:function(e){return N(e.target.value)},placeholder:"Fancy a caption?"})),o.a.createElement(p.Button,{variant:"elevated",typeof:"submit",className:"cta-button",textStyle:{fontSize:16,fontWeight:"bold"},showArrow:!0,kind:"elevated",elevationDirection:"left-bottom",size:"medium",colorMode:"dark",color:"#244234"},"Submit")),o.a.createElement("div",{className:"gif-grid"},F.map(function(e,t){return o.a.createElement(p.Column,{className:"gif-item v-center",key:t},o.a.createElement("img",{src:e.contentLink,alt:e}),o.a.createElement(p.Row,{className:"v-justify",style:{margin:"10px"}},o.a.createElement(p.Typography,Object.assign({},f.FontVariant.HeadingBold18,{color:f.colorPalette.success[100],style:{fontFamily:"Quicksand",textAlign:"center"}}),e.caption),o.a.createElement(p.VerticalSpacer,{n:5}),o.a.createElement(d.a,{fontSize:"20",color:Number(e.votes)>0?"#1E8057":"#fefefe",onClick:function(){return T(t)},style:{marginTop:"2px",cursor:"pointer"}}),o.a.createElement("span",null,e.votes)))}))):o.a.createElement("div",{className:"connect-wallet-container"},o.a.createElement("img",{src:"https://media.giphy.com/media/l0NwGpoOVLTAyUJSo/giphy.gif",width:"600px",alt:"Batman GIF"}),o.a.createElement(p.Button,{variant:"elevated",style:{margin:"auto",fontFamily:"Montserrat"},textStyle:{fontSize:18,fontWeight:"bold"},kind:"elevated",borderColor:"#244234",elevationDirection:"left-bottom",size:"big",colorMode:"dark",color:"#244234",onClick:z},"Connect Wallet")),o.a.createElement("div",{className:"footer-container"},o.a.createElement("img",{alt:"Twitter Logo",className:"twitter-logo",src:m.a}),o.a.createElement("a",{className:"footer-text",href:j,target:"_blank",rel:"noreferrer noopener"},"@","priyansh_71"))))};i.a.createRoot(document.getElementById("root")).render(o.a.createElement(C,null))},49:function(e){e.exports={version:"0.1.0",name:"fandomproject",instructions:[{name:"initialize",accounts:[{name:"baseAccount",isMut:!0,isSigner:!0},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"addContent",accounts:[{name:"baseAccount",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!0}],args:[{name:"contentLink",type:"string"},{name:"caption",type:"string"}]},{name:"updateContent",accounts:[{name:"baseAccount",isMut:!0,isSigner:!1}],args:[{name:"stringId",type:"string"}]}],accounts:[{name:"BaseAccount",type:{kind:"struct",fields:[{name:"totalContent",type:"u64"},{name:"contentList",type:{vec:{defined:"FandomStruct"}}}]}}],types:[{name:"FandomStruct",type:{kind:"struct",fields:[{name:"contentLink",type:"string"},{name:"caption",type:"string"},{name:"votes",type:"u8"},{name:"userAddress",type:"publicKey"}]}}],errors:[{code:6e3,name:"UpdateContent",msg:"Invalid ID"}],metadata:{address:"3LKwP6PniJASRhjm4JvcdThyG7VAanYzSwA2QWP1za6a"}}}},[[137,2,1]]]);
//# sourceMappingURL=main.0290fbf6.chunk.js.map